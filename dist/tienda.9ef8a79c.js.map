{"mappings":"AAAA,MAAM,oBAAoB,SAAS,iBAAiB;AACpD,IAAI,WAAW,EAAE;AAEjB,OAAO,SAAS;IACd,MAAM,OAAO,aAAa,QAAQ;IAClC,IAAI,MACF,WAAW,KAAK,MAAM;AAE1B;AAEA,SAAS,iBAAiB,oBAAoB;IAC5C,kBAAkB,QAAQ,CAAC;QACzB,gBAAgB,iBAAiB,SAAS,SAAU,KAAK;YACvD,UAAU,OAAO;QACnB;IACF;AACF;AAEA,SAAS,UAAU,KAAK,EAAE,eAAe;IACvC,MAAM;IACN,gBAAgB,oBAAoB,SAAS,YAAY,+BAA+B;IAExF,MAAM,cAAc,gBAAgB,QAAQ;IAC5C,MAAM,kBAAkB,YAAY,cAAc;IAElD,IAAI,iBAAiB;QACnB,MAAM,UAAU,eAAe;QAC/B,IAAI,SAAS;YACX,SAAS,KAAK;YACd,aAAa,QAAQ,YAAY,KAAK,UAAU;YAEhD,kEAAkE;YAClE,IAAI,WAAW,YAAY,cAAc;YACzC,IAAI,CAAC,UAAU;gBACb,WAAW,SAAS,cAAc;gBAClC,SAAS,OAAO;gBAChB,SAAS,YAAY;gBACrB,SAAS,QAAQ;gBACjB,SAAS,cAAc;gBACvB,YAAY,YAAY;YAC1B;YAEA,QAAQ,IAAI;YAEZ,gBAAgB,cAAc;YAE9B,qDAAqD;YACrD,MAAM,WAAW,gBAAgB,cAAc;YAC/C,IAAI,UACF,SAAS,YAAY;QAEzB;IACF,OACE,QAAQ,MAAM;AAElB;AAEA,SAAS,eAAe,OAAO;IAC7B,MAAM,cAAc;QAClB,QAAQ,QAAQ,cAAc,gBAAgB;QAC9C,OAAO,QAAQ,cAAc,mBAAmB;QAChD,OAAO,QAAQ,cAAc,qBAAqB;QAClD,UAAU;IACZ;IACA,OAAO;AACT","sources":["js/addproducto.js"],"sourcesContent":["const productsAddToCart = document.querySelectorAll(\".product-add-to-cart\");\r\nlet products = [];\r\n\r\nwindow.onload = function () {\r\n  const data = localStorage.getItem(\"products\");\r\n  if (data) {\r\n    products = JSON.parse(data);\r\n  }\r\n};\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n  productsAddToCart.forEach((addToCartButton) => {\r\n    addToCartButton.addEventListener(\"click\", function (event) {\r\n      addToCart(event, addToCartButton);\r\n    });\r\n  });\r\n});\r\n\r\nfunction addToCart(event, addToCartButton) {\r\n  event.preventDefault();\r\n  addToCartButton.removeEventListener(\"click\", addToCart); // Remover el evento de escucha\r\n\r\n  const productItem = addToCartButton.closest(\".product\");\r\n  const previousSibling = productItem.querySelector(\".product-cta\");\r\n\r\n  if (previousSibling) {\r\n    const product = getProductInfo(previousSibling);\r\n    if (product) {\r\n      products.push(product);\r\n      localStorage.setItem(\"products\", JSON.stringify(products));\r\n\r\n      // Verificar si ya existe el botón y el icono de ver en el carrito\r\n      let cartLink = productItem.querySelector(\".added_to_cart\");\r\n      if (!cartLink) {\r\n        cartLink = document.createElement(\"a\");\r\n        cartLink.href = \"carrito.html\";\r\n        cartLink.className = \"added_to_cart\";\r\n        cartLink.title = \"View cart\";\r\n        cartLink.textContent = \"Ver en el Carrito\";\r\n        productItem.appendChild(cartLink);\r\n      }\r\n\r\n      console.log(addToCart);\r\n\r\n      addToCartButton.textContent = \"Agregado\";\r\n\r\n      // Cambiar el icono del carrito por el icono de check\r\n      const cartIcon = addToCartButton.querySelector(\".fa-solid.fa-cart-shopping\");\r\n      if (cartIcon) {\r\n        cartIcon.className = \"fa-regular fa-circle-check\";\r\n      }\r\n    }\r\n  } else {\r\n    console.error(\"Error: No se encontró el elemento 'previousSibling'.\");\r\n  }\r\n}\r\n\r\nfunction getProductInfo(product) {\r\n  const productInfo = {\r\n    imagen: product.querySelector(\".product-img\").src,\r\n    title: product.querySelector(\".product__title\").textContent,\r\n    price: product.querySelector(\".price-amount bdi\").innerText,\r\n    quantity: 1,\r\n  };\r\n  return productInfo;\r\n}\r\n"],"names":[],"version":3,"file":"tienda.9ef8a79c.js.map","sourceRoot":"/__parcel_source_root/"}